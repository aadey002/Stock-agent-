<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gann Cycle Trading Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            background: linear-gradient(135deg, #0f0f1a 0%, #1a1a2e 50%, #16213e 100%);
            color: #e0e0e0;
            min-height: 100vh;
            padding: 20px;
        }

        .header {
            text-align: center;
            padding: 20px;
            margin-bottom: 20px;
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .header h1 {
            font-size: 28px;
            background: linear-gradient(135deg, #667eea, #764ba2, #f093fb);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 10px;
        }

        .header .subtitle {
            color: #888;
            font-size: 14px;
        }

        .header .last-update {
            color: #666;
            font-size: 12px;
            margin-top: 10px;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-bottom: 20px;
        }

        @media (max-width: 1200px) {
            .dashboard-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 768px) {
            .dashboard-grid {
                grid-template-columns: 1fr;
            }
        }

        .card {
            background: rgba(255,255,255,0.05);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(255,255,255,0.1);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
        }

        .card-title {
            font-size: 14px;
            font-weight: 600;
            color: #888;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .card-title .icon {
            font-size: 18px;
        }

        /* Alert Cards */
        .alert-card {
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 10px;
        }

        .alert-critical {
            background: linear-gradient(135deg, rgba(239,68,68,0.2), rgba(239,68,68,0.1));
            border: 1px solid rgba(239,68,68,0.5);
        }

        .alert-warning {
            background: linear-gradient(135deg, rgba(245,158,11,0.2), rgba(245,158,11,0.1));
            border: 1px solid rgba(245,158,11,0.5);
        }

        .alert-info {
            background: linear-gradient(135deg, rgba(59,130,246,0.2), rgba(59,130,246,0.1));
            border: 1px solid rgba(59,130,246,0.5);
        }

        .alert-success {
            background: linear-gradient(135deg, rgba(34,197,94,0.2), rgba(34,197,94,0.1));
            border: 1px solid rgba(34,197,94,0.5);
        }

        .alert-title {
            font-weight: 600;
            font-size: 14px;
            margin-bottom: 5px;
        }

        .alert-subtitle {
            font-size: 12px;
            color: #999;
        }

        .alert-badge {
            display: inline-block;
            padding: 3px 8px;
            border-radius: 12px;
            font-size: 10px;
            font-weight: 600;
            margin-left: 8px;
        }

        .badge-critical { background: #ef4444; color: white; }
        .badge-warning { background: #f59e0b; color: white; }
        .badge-info { background: #3b82f6; color: white; }
        .badge-success { background: #22c55e; color: white; }

        /* Cycle Progress */
        .cycle-progress {
            margin-bottom: 15px;
        }

        .cycle-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
        }

        .cycle-name {
            font-size: 13px;
            font-weight: 500;
        }

        .cycle-days {
            font-size: 12px;
            color: #888;
        }

        .progress-bar {
            height: 8px;
            background: rgba(255,255,255,0.1);
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.3s;
        }

        .progress-normal { background: linear-gradient(90deg, #3b82f6, #8b5cf6); }
        .progress-warning { background: linear-gradient(90deg, #f59e0b, #ef4444); }
        .progress-critical { background: linear-gradient(90deg, #ef4444, #dc2626); }

        /* Pivot Cards */
        .pivot-card {
            background: rgba(255,255,255,0.03);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 15px;
            border: 1px solid rgba(255,255,255,0.08);
        }

        .pivot-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .pivot-type {
            font-size: 11px;
            font-weight: 600;
            padding: 4px 10px;
            border-radius: 12px;
        }

        .pivot-high { background: rgba(239,68,68,0.2); color: #f87171; }
        .pivot-low { background: rgba(34,197,94,0.2); color: #4ade80; }

        .pivot-info {
            text-align: right;
        }

        .pivot-date {
            font-size: 14px;
            font-weight: 600;
        }

        .pivot-price {
            font-size: 12px;
            color: #888;
        }

        .cycle-timeline {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 12px;
        }

        .cycle-dot {
            text-align: center;
            flex: 1;
            min-width: 50px;
        }

        .cycle-dot .dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            margin: 0 auto 4px;
        }

        .dot-done { background: #22c55e; }
        .dot-active { background: #ef4444; animation: pulse 1s infinite; }
        .dot-future { background: #4b5563; }

        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.3); opacity: 0.7; }
        }

        .cycle-dot .label {
            font-size: 10px;
            color: #888;
        }

        .cycle-dot .date {
            font-size: 9px;
            color: #666;
        }

        /* Trade Recommendation */
        .trade-rec {
            background: linear-gradient(135deg, rgba(124,58,237,0.1), rgba(59,130,246,0.1));
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(124,58,237,0.3);
        }

        .trade-signal {
            text-align: center;
            margin-bottom: 15px;
        }

        .signal-label {
            font-size: 12px;
            color: #888;
            margin-bottom: 5px;
        }

        .signal-value {
            font-size: 28px;
            font-weight: 700;
        }

        .signal-buy { color: #22c55e; }
        .signal-sell { color: #ef4444; }
        .signal-wait { color: #f59e0b; }
        .signal-caution { color: #f97316; }

        .trade-details {
            background: rgba(0,0,0,0.2);
            border-radius: 8px;
            padding: 12px;
            margin-top: 15px;
        }

        .trade-row {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
            font-size: 12px;
        }

        .trade-row:last-child {
            border-bottom: none;
        }

        .trade-row .label {
            color: #888;
        }

        .trade-row .value {
            font-weight: 500;
        }

        /* Sq9 Levels */
        .sq9-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .sq9-section {
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            padding: 12px;
        }

        .sq9-title {
            font-size: 11px;
            font-weight: 600;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .sq9-support .sq9-title { color: #4ade80; }
        .sq9-resist .sq9-title { color: #f87171; }

        .sq9-level {
            display: flex;
            justify-content: space-between;
            padding: 6px 0;
            font-size: 12px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .sq9-level:last-child {
            border-bottom: none;
        }

        .sq9-level .angle {
            color: #888;
        }

        .sq9-level .price {
            font-weight: 500;
        }

        .sq9-level .distance {
            font-size: 10px;
            color: #666;
        }

        .sq9-alert {
            margin-top: 12px;
            padding: 10px;
            background: rgba(34,197,94,0.1);
            border-radius: 8px;
            border: 1px solid rgba(34,197,94,0.3);
            font-size: 11px;
            color: #4ade80;
        }

        /* Multi-ETF Table */
        .etf-table {
            width: 100%;
            border-collapse: collapse;
        }

        .etf-table th {
            text-align: left;
            padding: 10px;
            font-size: 11px;
            color: #888;
            border-bottom: 1px solid rgba(255,255,255,0.1);
        }

        .etf-table td {
            padding: 12px 10px;
            font-size: 13px;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .etf-symbol {
            font-weight: 600;
            color: #fff;
        }

        .etf-price {
            color: #888;
        }

        .cycle-status {
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
        }

        /* Calendar */
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 5px;
        }

        .calendar-header {
            text-align: center;
            font-size: 11px;
            color: #666;
            padding: 8px 0;
        }

        .calendar-day {
            text-align: center;
            padding: 8px;
            font-size: 12px;
            border-radius: 6px;
            background: rgba(255,255,255,0.03);
        }

        .calendar-day.cycle-day {
            background: rgba(239,68,68,0.2);
            border: 1px solid rgba(239,68,68,0.5);
            color: #f87171;
            font-weight: 600;
        }

        .calendar-day.today {
            background: rgba(59,130,246,0.2);
            border: 1px solid rgba(59,130,246,0.5);
        }

        .calendar-day.entry-zone {
            background: rgba(34,197,94,0.2);
            border: 1px solid rgba(34,197,94,0.5);
            color: #4ade80;
        }

        /* Options Calculator */
        .options-calc {
            background: rgba(0,0,0,0.2);
            border-radius: 10px;
            padding: 15px;
        }

        .calc-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.05);
        }

        .calc-row:last-child {
            border-bottom: none;
        }

        .calc-label {
            font-size: 12px;
            color: #888;
        }

        .calc-value {
            font-size: 14px;
            font-weight: 600;
        }

        .calc-highlight {
            color: #22c55e;
        }

        /* Full Width Sections */
        .full-width {
            grid-column: 1 / -1;
        }

        /* Journal */
        .journal-entry {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px;
            background: rgba(255,255,255,0.03);
            border-radius: 8px;
            margin-bottom: 8px;
        }

        .journal-left {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .journal-result {
            width: 40px;
            height: 40px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 18px;
        }

        .result-win { background: rgba(34,197,94,0.2); }
        .result-loss { background: rgba(239,68,68,0.2); }

        .journal-info .symbol {
            font-weight: 600;
            font-size: 14px;
        }

        .journal-info .details {
            font-size: 11px;
            color: #888;
        }

        .journal-pnl {
            text-align: right;
        }

        .pnl-amount {
            font-weight: 600;
            font-size: 14px;
        }

        .pnl-positive { color: #22c55e; }
        .pnl-negative { color: #ef4444; }

        .pnl-percent {
            font-size: 11px;
            color: #888;
        }

        /* Stats */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 15px;
        }

        .stat-box {
            background: rgba(255,255,255,0.03);
            border-radius: 10px;
            padding: 15px;
            text-align: center;
        }

        .stat-value {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 11px;
            color: #888;
        }

        /* Navigation */
        .nav-link {
            display: inline-block;
            padding: 8px 16px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            color: #888;
            text-decoration: none;
            font-size: 12px;
            margin-right: 10px;
            transition: all 0.2s;
        }

        .nav-link:hover {
            background: rgba(255,255,255,0.2);
            color: #fff;
        }

        /* Buttons */
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 20px rgba(102,126,234,0.4);
        }

        .btn-secondary {
            background: rgba(255,255,255,0.1);
            color: #fff;
        }

        .btn-success {
            background: linear-gradient(135deg, #22c55e, #16a34a);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
        }

        /* Email Alert Section */
        .alert-settings {
            background: rgba(255,255,255,0.03);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
        }

        .alert-settings input {
            width: 100%;
            padding: 10px;
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 6px;
            background: rgba(0,0,0,0.3);
            color: #fff;
            font-size: 13px;
            margin-bottom: 10px;
        }

        .alert-settings input::placeholder {
            color: #666;
        }

        .alert-options {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 10px;
        }

        .alert-option {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 12px;
        }

        .alert-option input[type="checkbox"] {
            width: auto;
            margin: 0;
        }
    </style>
</head>
<body>
    <!-- Header -->
    <div class="header">
        <h1>Gann Cycle Trading Dashboard</h1>
        <div class="subtitle">Biblical Cycles - Sq9 Levels - Options Recommendations</div>
        <div class="last-update">Last Updated: <span id="lastUpdate">Loading...</span></div>
        <div style="margin-top: 15px;">
            <a href="index.html" class="nav-link">‚Üê Main Dashboard</a>
            <button class="btn btn-primary" onclick="refreshData()">Refresh</button>
        </div>
    </div>

    <!-- Alert Banner -->
    <div id="alertBanner" style="display: none; margin-bottom: 20px;"></div>

    <!-- Top Row: Alerts, Countdown, Quick Stats -->
    <div class="dashboard-grid">

        <!-- Active Alerts -->
        <div class="card">
            <div class="card-title"><span class="icon">!</span> Active Alerts</div>
            <div id="activeAlerts">
                <div class="alert-card alert-warning">
                    <div class="alert-title">
                        270-Day Cycle <span class="alert-badge badge-warning">3 DAYS</span>
                    </div>
                    <div class="alert-subtitle">SPY/QQQ/IWM from Apr 7 low - Jan 2, 2026</div>
                </div>
                <div class="alert-card alert-info">
                    <div class="alert-title">
                        360-Day Anniversary <span class="alert-badge badge-info">45 DAYS</span>
                    </div>
                    <div class="alert-subtitle">From Feb 19, 2025 ATH - Feb 14, 2026</div>
                </div>
            </div>
        </div>

        <!-- Cycle Countdown -->
        <div class="card">
            <div class="card-title"><span class="icon">CAL</span> Cycle Countdown</div>
            <div id="cycleCountdowns">
                <div class="cycle-progress">
                    <div class="cycle-header">
                        <span class="cycle-name">From Feb 19 ATH - 360d</span>
                        <span class="cycle-days">Day 316 / 360</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill progress-warning" style="width: 88%;"></div>
                    </div>
                </div>
                <div class="cycle-progress">
                    <div class="cycle-header">
                        <span class="cycle-name">From Apr 7 Low - 270d</span>
                        <span class="cycle-days">Day 268 / 270</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill progress-critical" style="width: 99%;"></div>
                    </div>
                </div>
                <div class="cycle-progress">
                    <div class="cycle-header">
                        <span class="cycle-name">From Apr 7 Low - 360d</span>
                        <span class="cycle-days">Day 268 / 360</span>
                    </div>
                    <div class="progress-bar">
                        <div class="progress-fill progress-normal" style="width: 74%;"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Quick Stats -->
        <div class="card">
            <div class="card-title"><span class="icon">$</span> Market Status</div>
            <div id="quickStats">
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 15px;">
                    <div style="text-align: center; padding: 10px; background: rgba(255,255,255,0.03); border-radius: 8px;">
                        <div style="font-size: 11px; color: #888;">SPY</div>
                        <div id="spyPrice" style="font-size: 18px; font-weight: 700;">$598.27</div>
                    </div>
                    <div style="text-align: center; padding: 10px; background: rgba(255,255,255,0.03); border-radius: 8px;">
                        <div style="font-size: 11px; color: #888;">QQQ</div>
                        <div id="qqqPrice" style="font-size: 18px; font-weight: 700;">$524.18</div>
                    </div>
                    <div style="text-align: center; padding: 10px; background: rgba(255,255,255,0.03); border-radius: 8px;">
                        <div style="font-size: 11px; color: #888;">IWM</div>
                        <div id="iwmPrice" style="font-size: 18px; font-weight: 700;">$248.20</div>
                    </div>
                </div>
                <div style="text-align: center; padding: 15px; background: rgba(245,158,11,0.1); border-radius: 10px; border: 1px solid rgba(245,158,11,0.3);">
                    <div style="font-size: 11px; color: #f59e0b;">CURRENT SIGNAL</div>
                    <div id="currentSignal" style="font-size: 24px; font-weight: 700; color: #f59e0b;">CAUTION</div>
                    <div style="font-size: 11px; color: #888;">270-day cycle approaching</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Pivot Timeline Section -->
    <div class="dashboard-grid">
        <div class="card full-width">
            <div class="card-title"><span class="icon">PIN</span> Major Pivots & Cycle Timeline</div>
            <div id="pivotTimelines">

                <!-- SPY Pivots -->
                <div class="pivot-card">
                    <div class="pivot-header">
                        <div>
                            <span style="font-weight: 600; font-size: 16px;">SPY</span>
                            <span class="pivot-type pivot-low">LOW</span>
                        </div>
                        <div class="pivot-info">
                            <div class="pivot-date">Apr 7, 2025</div>
                            <div class="pivot-price">$506.22</div>
                        </div>
                    </div>
                    <div class="cycle-timeline">
                        <div class="cycle-dot">
                            <div class="dot dot-done"></div>
                            <div class="label">49d</div>
                            <div class="date">May 26</div>
                        </div>
                        <div class="cycle-dot">
                            <div class="dot dot-done"></div>
                            <div class="label">90d</div>
                            <div class="date">Jul 6</div>
                        </div>
                        <div class="cycle-dot">
                            <div class="dot dot-done"></div>
                            <div class="label">120d</div>
                            <div class="date">Aug 5</div>
                        </div>
                        <div class="cycle-dot">
                            <div class="dot dot-done"></div>
                            <div class="label">144d</div>
                            <div class="date">Aug 29</div>
                        </div>
                        <div class="cycle-dot">
                            <div class="dot dot-done"></div>
                            <div class="label">180d</div>
                            <div class="date">Oct 4</div>
                        </div>
                        <div class="cycle-dot">
                            <div class="dot dot-active"></div>
                            <div class="label">270d</div>
                            <div class="date">Jan 2 !</div>
                        </div>
                        <div class="cycle-dot">
                            <div class="dot dot-future"></div>
                            <div class="label">360d</div>
                            <div class="date">Apr 2</div>
                        </div>
                    </div>
                </div>

                <!-- SPY ATH Pivot -->
                <div class="pivot-card">
                    <div class="pivot-header">
                        <div>
                            <span style="font-weight: 600; font-size: 16px;">SPY</span>
                            <span class="pivot-type pivot-high">HIGH</span>
                        </div>
                        <div class="pivot-info">
                            <div class="pivot-date">Feb 19, 2025</div>
                            <div class="pivot-price">$614.42</div>
                        </div>
                    </div>
                    <div class="cycle-timeline">
                        <div class="cycle-dot">
                            <div class="dot dot-done"></div>
                            <div class="label">49d</div>
                            <div class="date">Apr 7 OK</div>
                        </div>
                        <div class="cycle-dot">
                            <div class="dot dot-done"></div>
                            <div class="label">90d</div>
                            <div class="date">May 20 OK</div>
                        </div>
                        <div class="cycle-dot">
                            <div class="dot dot-done"></div>
                            <div class="label">120d</div>
                            <div class="date">Jun 19</div>
                        </div>
                        <div class="cycle-dot">
                            <div class="dot dot-done"></div>
                            <div class="label">180d</div>
                            <div class="date">Aug 18</div>
                        </div>
                        <div class="cycle-dot">
                            <div class="dot dot-done"></div>
                            <div class="label">270d</div>
                            <div class="date">Nov 16</div>
                        </div>
                        <div class="cycle-dot">
                            <div class="dot dot-future"></div>
                            <div class="label">360d</div>
                            <div class="date">Feb 14 !</div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Trade Recommendation & Sq9 Levels -->
    <div class="dashboard-grid">

        <!-- Trade Recommendation -->
        <div class="card">
            <div class="card-title"><span class="icon">TARGET</span> Trade Recommendation</div>
            <div class="trade-rec">
                <div class="trade-signal">
                    <div class="signal-label">CURRENT SIGNAL</div>
                    <div id="tradeSignal" class="signal-value signal-wait">WAIT</div>
                </div>
                <div style="font-size: 12px; color: #888; text-align: center; margin-bottom: 15px;">
                    270-day cycle from Apr 7 low approaches Jan 2, 2026.<br>
                    Expect potential pause or pullback.
                </div>
                <div class="trade-details">
                    <div style="font-size: 11px; font-weight: 600; color: #888; margin-bottom: 10px;">IF PULLBACK OCCURS (Jan 3-7):</div>
                    <div class="trade-row">
                        <span class="label">Action</span>
                        <span class="value" style="color: #22c55e;">BUY CALL</span>
                    </div>
                    <div class="trade-row">
                        <span class="label">Symbol</span>
                        <span class="value">SPY / QQQ / IWM</span>
                    </div>
                    <div class="trade-row">
                        <span class="label">Strike</span>
                        <span class="value">ATM</span>
                    </div>
                    <div class="trade-row">
                        <span class="label">Expiration</span>
                        <span class="value">Feb 20 - Mar 6 (45-60 DTE)</span>
                    </div>
                    <div class="trade-row">
                        <span class="label">Position Size</span>
                        <span class="value">3-5% of account</span>
                    </div>
                    <div class="trade-row">
                        <span class="label">Target</span>
                        <span class="value" style="color: #22c55e;">+100% or 360-day (Feb 14)</span>
                    </div>
                    <div class="trade-row">
                        <span class="label">Stop</span>
                        <span class="value" style="color: #ef4444;">-50%</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Sq9 Levels -->
        <div class="card">
            <div class="card-title"><span class="icon">SQ9</span> Sq9 Support/Resistance - SPY</div>
            <div id="sq9Levels">
                <div style="text-align: center; margin-bottom: 15px;">
                    <div style="font-size: 12px; color: #888;">Current Price</div>
                    <div style="font-size: 28px; font-weight: 700;">$598.27</div>
                </div>
                <div class="sq9-container">
                    <div class="sq9-section sq9-support">
                        <div class="sq9-title">SUPPORT (62% bounce)</div>
                        <div class="sq9-level">
                            <span class="angle">-45deg</span>
                            <span class="price">$591.82</span>
                            <span class="distance">1.1%</span>
                        </div>
                        <div class="sq9-level">
                            <span class="angle">-90deg</span>
                            <span class="price">$585.42</span>
                            <span class="distance">2.1%</span>
                        </div>
                        <div class="sq9-level">
                            <span class="angle">-180deg</span>
                            <span class="price">$572.78</span>
                            <span class="distance">4.3%</span>
                        </div>
                    </div>
                    <div class="sq9-section sq9-resist">
                        <div class="sq9-title">RESISTANCE (41%)</div>
                        <div class="sq9-level">
                            <span class="angle">+45deg</span>
                            <span class="price">$604.75</span>
                            <span class="distance">1.1%</span>
                        </div>
                        <div class="sq9-level">
                            <span class="angle">+90deg</span>
                            <span class="price">$611.28</span>
                            <span class="distance">2.2%</span>
                        </div>
                        <div class="sq9-level">
                            <span class="angle">+180deg</span>
                            <span class="price">$624.50</span>
                            <span class="distance">4.4%</span>
                        </div>
                    </div>
                </div>
                <div class="sq9-alert" id="sq9Alert" style="display: none;">
                    Price approaching -45deg support ($591.82) - Watch for bounce!
                </div>
            </div>
        </div>

        <!-- Options Calculator -->
        <div class="card">
            <div class="card-title"><span class="icon">CALC</span> Options Calculator</div>
            <div class="options-calc">
                <div class="calc-row">
                    <span class="calc-label">Underlying</span>
                    <select id="calcSymbol" style="background: rgba(0,0,0,0.3); border: 1px solid rgba(255,255,255,0.2); color: #fff; padding: 5px 10px; border-radius: 4px;">
                        <option value="SPY">SPY ($598.27)</option>
                        <option value="QQQ">QQQ ($524.18)</option>
                        <option value="IWM">IWM ($248.20)</option>
                    </select>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Signal Type</span>
                    <span class="calc-value">49-Day Jubilee</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Recommended Strike</span>
                    <span class="calc-value calc-highlight" id="recStrike">$600 (ATM)</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Recommended Exp</span>
                    <span class="calc-value" id="recExp">Feb 20, 2026 (52 DTE)</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Est. Premium</span>
                    <span class="calc-value" id="recPremium">~$12.00</span>
                </div>
                <div class="calc-row">
                    <span class="calc-label">Position Size (3%)</span>
                    <span class="calc-value" id="recSize">Enter account size</span>
                </div>
                <div style="margin-top: 15px;">
                    <input type="number" id="accountSize" placeholder="Account Size ($)" style="width: 100%; padding: 10px; border: 1px solid rgba(255,255,255,0.2); border-radius: 6px; background: rgba(0,0,0,0.3); color: #fff;">
                </div>
                <button class="btn btn-success" style="width: 100%; margin-top: 10px;" onclick="calculatePosition()">Calculate Position</button>
            </div>
        </div>
    </div>

    <!-- Multi-ETF Status -->
    <div class="dashboard-grid">
        <div class="card full-width">
            <div class="card-title"><span class="icon">CHART</span> Multi-ETF Cycle Status</div>
            <table class="etf-table">
                <thead>
                    <tr>
                        <th>Symbol</th>
                        <th>Price</th>
                        <th>From Last HIGH</th>
                        <th>From Last LOW</th>
                        <th>Nearest Cycle</th>
                        <th>Signal</th>
                    </tr>
                </thead>
                <tbody id="etfTableBody">
                    <tr>
                        <td class="etf-symbol">SPY</td>
                        <td class="etf-price">$598.27</td>
                        <td>
                            <div class="cycle-status">
                                <span class="status-dot" style="background: #f59e0b;"></span>
                                Day 316/360 (88%)
                            </div>
                        </td>
                        <td>
                            <div class="cycle-status">
                                <span class="status-dot" style="background: #ef4444;"></span>
                                Day 268/270 (99%) !
                            </div>
                        </td>
                        <td>270d - Jan 2</td>
                        <td><span style="color: #f59e0b; font-weight: 600;">CAUTION</span></td>
                    </tr>
                    <tr>
                        <td class="etf-symbol">QQQ</td>
                        <td class="etf-price">$524.18</td>
                        <td>
                            <div class="cycle-status">
                                <span class="status-dot" style="background: #f59e0b;"></span>
                                Day 316/360 (88%)
                            </div>
                        </td>
                        <td>
                            <div class="cycle-status">
                                <span class="status-dot" style="background: #ef4444;"></span>
                                Day 268/270 (99%) !
                            </div>
                        </td>
                        <td>270d - Jan 2</td>
                        <td><span style="color: #f59e0b; font-weight: 600;">CAUTION</span></td>
                    </tr>
                    <tr>
                        <td class="etf-symbol">IWM</td>
                        <td class="etf-price">$248.20</td>
                        <td>
                            <div class="cycle-status">
                                <span class="status-dot" style="background: #3b82f6;"></span>
                                Day 401/720 (56%)
                            </div>
                        </td>
                        <td>
                            <div class="cycle-status">
                                <span class="status-dot" style="background: #ef4444;"></span>
                                Day 268/270 (99%) !
                            </div>
                        </td>
                        <td>270d - Jan 2</td>
                        <td><span style="color: #f59e0b; font-weight: 600;">CAUTION</span></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Calendar & Alerts Setup -->
    <div class="dashboard-grid">

        <!-- January Calendar -->
        <div class="card">
            <div class="card-title"><span class="icon">CAL</span> January 2026 Cycle Calendar</div>
            <div class="calendar-grid">
                <div class="calendar-header">Sun</div>
                <div class="calendar-header">Mon</div>
                <div class="calendar-header">Tue</div>
                <div class="calendar-header">Wed</div>
                <div class="calendar-header">Thu</div>
                <div class="calendar-header">Fri</div>
                <div class="calendar-header">Sat</div>

                <div class="calendar-day"></div>
                <div class="calendar-day"></div>
                <div class="calendar-day"></div>
                <div class="calendar-day"></div>
                <div class="calendar-day">1</div>
                <div class="calendar-day cycle-day">2<br><span style="font-size:9px;">270d</span></div>
                <div class="calendar-day entry-zone">3</div>

                <div class="calendar-day entry-zone">4</div>
                <div class="calendar-day entry-zone">5</div>
                <div class="calendar-day entry-zone">6</div>
                <div class="calendar-day entry-zone">7</div>
                <div class="calendar-day">8</div>
                <div class="calendar-day">9</div>
                <div class="calendar-day">10</div>

                <div class="calendar-day">11</div>
                <div class="calendar-day">12</div>
                <div class="calendar-day">13</div>
                <div class="calendar-day">14</div>
                <div class="calendar-day">15</div>
                <div class="calendar-day">16</div>
                <div class="calendar-day">17</div>
            </div>
            <div style="margin-top: 15px; font-size: 11px; color: #888;">
                <span style="display: inline-block; width: 12px; height: 12px; background: rgba(239,68,68,0.3); border-radius: 3px; margin-right: 5px;"></span> Cycle Date
                <span style="display: inline-block; width: 12px; height: 12px; background: rgba(34,197,94,0.3); border-radius: 3px; margin-left: 15px; margin-right: 5px;"></span> Entry Zone
            </div>
        </div>

        <!-- Alert Settings -->
        <div class="card">
            <div class="card-title"><span class="icon">BELL</span> Alert Settings</div>
            <div class="alert-settings">
                <div style="margin-bottom: 15px;">
                    <label style="font-size: 12px; color: #888; display: block; margin-bottom: 5px;">Email Address</label>
                    <input type="email" id="alertEmail" placeholder="your@email.com">
                </div>
                <div style="margin-bottom: 15px;">
                    <label style="font-size: 12px; color: #888; display: block; margin-bottom: 5px;">Phone (SMS)</label>
                    <input type="tel" id="alertPhone" placeholder="+1 234 567 8900">
                </div>
                <div style="font-size: 12px; color: #888; margin-bottom: 10px;">Alert me when:</div>
                <div class="alert-options">
                    <label class="alert-option">
                        <input type="checkbox" checked> 49-Day Jubilee (3 days before)
                    </label>
                    <label class="alert-option">
                        <input type="checkbox" checked> 90-Day Quarter (5 days before)
                    </label>
                    <label class="alert-option">
                        <input type="checkbox" checked> Sq9 Support touched
                    </label>
                    <label class="alert-option">
                        <input type="checkbox"> 180-Day Half Year
                    </label>
                    <label class="alert-option">
                        <input type="checkbox" checked> 360-Day Anniversary
                    </label>
                </div>
                <button class="btn btn-primary" style="width: 100%; margin-top: 15px;" onclick="saveAlertSettings()">Save Alert Settings</button>
            </div>
        </div>

        <!-- Backtested Stats -->
        <div class="card">
            <div class="card-title"><span class="icon">STATS</span> Backtested Performance</div>
            <div class="stats-grid" style="grid-template-columns: repeat(2, 1fr);">
                <div class="stat-box">
                    <div class="stat-value" style="color: #22c55e;">62%</div>
                    <div class="stat-label">Sq9 Support Bounce</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" style="color: #22c55e;">80%</div>
                    <div class="stat-label">49-Day Jubilee</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" style="color: #f59e0b;">67%</div>
                    <div class="stat-label">90-Day Quarter</div>
                </div>
                <div class="stat-box">
                    <div class="stat-value" style="color: #f59e0b;">60%</div>
                    <div class="stat-label">Continuation</div>
                </div>
            </div>
            <div style="margin-top: 15px; padding: 12px; background: rgba(255,255,255,0.03); border-radius: 8px;">
                <div style="font-size: 11px; color: #888; margin-bottom: 8px;">Confirmed Across:</div>
                <div style="font-size: 12px;">
                    SPY (32 years) - QQQ (40 years) - IWM (20 years)
                </div>
            </div>
        </div>
    </div>

    <!-- Trade Journal -->
    <div class="dashboard-grid">
        <div class="card full-width">
            <div class="card-title"><span class="icon">JOURNAL</span> Trade Journal</div>
            <div id="tradeJournal">
                <div class="journal-entry">
                    <div class="journal-left">
                        <div class="journal-result result-win">WIN</div>
                        <div class="journal-info">
                            <div class="symbol">IWM $252 Call Jan6</div>
                            <div class="details">Dec 30 - Dec 31 - Closed before 270-day cycle</div>
                        </div>
                    </div>
                    <div class="journal-pnl">
                        <div class="pnl-amount pnl-positive">+$2</div>
                        <div class="pnl-percent">+4.4%</div>
                    </div>
                </div>
                <div class="journal-entry" style="opacity: 0.5;">
                    <div class="journal-left">
                        <div class="journal-result" style="background: rgba(255,255,255,0.1);">+</div>
                        <div class="journal-info">
                            <div class="symbol">Add your trades...</div>
                            <div class="details">Track your Gann cycle trades here</div>
                        </div>
                    </div>
                    <div class="journal-pnl">
                        <button class="btn btn-secondary" onclick="addTrade()">+ Add Trade</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div style="text-align: center; padding: 20px; color: #666; font-size: 12px;">
        Gann Cycle Trading Dashboard | Based on W.D. Gann's Biblical Cycles from "Tunnel Thru the Air"<br>
        Backtested on SPY (32 years), QQQ (40 years), IWM (20 years) | <a href="index.html" style="color: #888;">Main Dashboard</a>
    </div>

    <script>
        // ==========================================
        // GANN CYCLE TRADING DASHBOARD - JAVASCRIPT
        // ==========================================

        // Major Pivots Data
        const majorPivots = {
            SPY: [
                { date: '2025-02-19', price: 614.42, type: 'HIGH', name: '2025 ATH' },
                { date: '2025-04-07', price: 506.22, type: 'LOW', name: 'Apr 2025 Bottom' },
                { date: '2022-01-04', price: 479.35, type: 'HIGH', name: '2022 Peak' },
                { date: '2022-10-13', price: 366.99, type: 'LOW', name: '2022 Bottom' }
            ],
            QQQ: [
                { date: '2025-02-19', price: 554.39, type: 'HIGH', name: '2025 ATH' },
                { date: '2025-04-07', price: 435.77, type: 'LOW', name: 'Apr 2025 Bottom' },
                { date: '2021-11-22', price: 409.52, type: 'HIGH', name: '2021 ATH' }
            ],
            IWM: [
                { date: '2024-11-25', price: 242.40, type: 'HIGH', name: '2024 ATH' },
                { date: '2025-04-07', price: 179.55, type: 'LOW', name: 'Apr 2025 Bottom' },
                { date: '2022-06-16', price: 163.06, type: 'LOW', name: '2022 Bottom' }
            ]
        };

        // Biblical Cycles (confirmed working)
        const biblicalCycles = [
            { days: 49, name: 'Jubilee (7x7)', priority: 1, color: '#ef4444' },
            { days: 90, name: 'Quarter', priority: 2, color: '#f59e0b' },
            { days: 120, name: '1/3 Year', priority: 2, color: '#f59e0b' },
            { days: 144, name: 'Sacred (12x12)', priority: 3, color: '#8b5cf6' },
            { days: 180, name: 'Half Year', priority: 2, color: '#f59e0b' },
            { days: 270, name: '3/4 Year', priority: 2, color: '#f59e0b' },
            { days: 360, name: 'Prophetic Year', priority: 1, color: '#ef4444' },
            { days: 720, name: '2 Years', priority: 3, color: '#8b5cf6' }
        ];

        // Current prices (would be fetched from API in production)
        let currentPrices = {
            SPY: 598.27,
            QQQ: 524.18,
            IWM: 248.20
        };

        // Calculate days between dates
        function daysBetween(date1, date2) {
            const d1 = new Date(date1);
            const d2 = new Date(date2);
            return Math.floor((d2 - d1) / (1000 * 60 * 60 * 24));
        }

        // Calculate Sq9 levels
        function calculateSq9Levels(price) {
            const sqrt = Math.sqrt(price);
            return {
                support: {
                    deg45: Math.pow(sqrt - 0.25, 2),
                    deg90: Math.pow(sqrt - 0.5, 2),
                    deg180: Math.pow(sqrt - 1.0, 2)
                },
                resistance: {
                    deg45: Math.pow(sqrt + 0.25, 2),
                    deg90: Math.pow(sqrt + 0.5, 2),
                    deg180: Math.pow(sqrt + 1.0, 2)
                }
            };
        }

        // Get upcoming cycle dates
        function getUpcomingCycles(symbol) {
            const today = new Date();
            const todayStr = today.toISOString().split('T')[0];
            const upcoming = [];

            majorPivots[symbol].forEach(pivot => {
                biblicalCycles.forEach(cycle => {
                    const pivotDate = new Date(pivot.date);
                    const targetDate = new Date(pivotDate);
                    targetDate.setDate(targetDate.getDate() + cycle.days);

                    const daysUntil = daysBetween(todayStr, targetDate.toISOString().split('T')[0]);

                    if (daysUntil >= -7 && daysUntil <= 90) {
                        upcoming.push({
                            symbol: symbol,
                            pivot: pivot,
                            cycle: cycle,
                            targetDate: targetDate,
                            daysUntil: daysUntil,
                            expectation: pivot.type === 'HIGH' ? 'Potential LOW' : 'Potential HIGH'
                        });
                    }
                });
            });

            return upcoming.sort((a, b) => a.daysUntil - b.daysUntil);
        }

        // Generate options recommendation
        function generateOptionsRec(symbol, signal, price) {
            const today = new Date();
            const expDate = new Date(today);
            expDate.setDate(expDate.getDate() + 45); // 45 DTE

            const strike = Math.round(price / 5) * 5; // Round to nearest $5

            return {
                action: signal === 'BUY' ? 'BUY CALL' : 'BUY PUT',
                symbol: symbol,
                strike: strike,
                expiration: expDate.toISOString().split('T')[0],
                dte: 45,
                estPremium: (price * 0.02).toFixed(2), // ~2% of price
                positionSize: '3-5%',
                target: '+100%',
                stop: '-50%'
            };
        }

        // Update dashboard
        function updateDashboard() {
            // Update last update time
            document.getElementById('lastUpdate').textContent = new Date().toLocaleString();

            // Update prices
            document.getElementById('spyPrice').textContent = '$' + currentPrices.SPY.toFixed(2);
            document.getElementById('qqqPrice').textContent = '$' + currentPrices.QQQ.toFixed(2);
            document.getElementById('iwmPrice').textContent = '$' + currentPrices.IWM.toFixed(2);

            // Check for alerts
            checkAlerts();

            // Update Sq9 levels
            updateSq9Display('SPY');
        }

        // Check for cycle alerts
        function checkAlerts() {
            const allUpcoming = [];
            ['SPY', 'QQQ', 'IWM'].forEach(symbol => {
                const upcoming = getUpcomingCycles(symbol);
                allUpcoming.push(...upcoming);
            });

            // Sort by days until
            allUpcoming.sort((a, b) => a.daysUntil - b.daysUntil);

            // Update alert banner if critical alerts
            const critical = allUpcoming.filter(a => a.daysUntil >= 0 && a.daysUntil <= 3 && a.cycle.priority === 1);
            if (critical.length > 0) {
                const banner = document.getElementById('alertBanner');
                banner.style.display = 'block';
                banner.innerHTML = '<div class="alert-card alert-critical"><div class="alert-title">CRITICAL: ' +
                    critical[0].cycle.name + ' cycle in ' + critical[0].daysUntil + ' days!</div>' +
                    '<div class="alert-subtitle">' + critical[0].symbol + ' from ' + critical[0].pivot.name +
                    ' - Expect ' + critical[0].expectation + '</div></div>';
            }
        }

        // Update Sq9 display
        function updateSq9Display(symbol) {
            const price = currentPrices[symbol];
            const levels = calculateSq9Levels(price);

            // Check if near support
            const distTo45 = Math.abs(price - levels.support.deg45) / price * 100;
            if (distTo45 < 1.5) {
                document.getElementById('sq9Alert').style.display = 'block';
                document.getElementById('sq9Alert').innerHTML =
                    'Price approaching -45deg support ($' + levels.support.deg45.toFixed(2) + ') - BUY CALL signal!';
            }
        }

        // Calculate position size
        function calculatePosition() {
            const accountSize = parseFloat(document.getElementById('accountSize').value);
            if (!accountSize || accountSize <= 0) {
                alert('Please enter your account size');
                return;
            }

            const positionSize3pct = accountSize * 0.03;
            const positionSize5pct = accountSize * 0.05;

            document.getElementById('recSize').innerHTML =
                '$' + positionSize3pct.toFixed(0) + ' - $' + positionSize5pct.toFixed(0) +
                '<br><span style="font-size:10px;color:#888;">(3-5% of $' + accountSize.toFixed(0) + ')</span>';
        }

        // Save alert settings
        function saveAlertSettings() {
            const email = document.getElementById('alertEmail').value;
            const phone = document.getElementById('alertPhone').value;

            // In production, this would save to a backend
            localStorage.setItem('gannAlertEmail', email);
            localStorage.setItem('gannAlertPhone', phone);

            alert('Alert settings saved!\n\nEmail: ' + email + '\nPhone: ' + phone +
                '\n\nNote: Email/SMS alerts require backend integration.');
        }

        // Add trade to journal
        function addTrade() {
            const trade = prompt('Enter trade details (Symbol Strike Exp):');
            if (trade) {
                alert('Trade logged: ' + trade + '\n\n(Full journal coming in Phase 2)');
            }
        }

        // Refresh data
        function refreshData() {
            // In production, this would fetch live prices
            alert('Refreshing data...\n\n(Live data integration coming in Phase 2)');
            updateDashboard();
        }

        // Load saved settings
        function loadSettings() {
            const email = localStorage.getItem('gannAlertEmail');
            const phone = localStorage.getItem('gannAlertPhone');

            if (email) document.getElementById('alertEmail').value = email;
            if (phone) document.getElementById('alertPhone').value = phone;
        }

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            loadSettings();
            updateDashboard();

            // Auto-refresh every 5 minutes
            setInterval(updateDashboard, 300000);
        });
    </script>
</body>
</html>
